@page
@model NorthernWinterBeat.Pages.ParticipantConcertOverviewModel
@{
    ViewData["Title"] = "Concert Overview";
}


<div class="btn-group" role="group" aria-label="Basic example">

    @{

        var Dates = new HashSet<DateTime>();

        @foreach (var c in Model.Concerts)
        {
            Dates.Add(c.Start);
        }

        foreach (var d in Dates)
        {
            <form asp-page-handler="Date" method="post" asp-route-Date="@d.ToString()">
                <button class="btn btn-secondary">@d.DayOfWeek</button>
            </form>
        }
    }
</div>

<div class="list-group">
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Artist</th>
                <th scope="col">Time</th>
                <th scope="col">Location</th>
            </tr>
        </thead>
        <tbody>

            @{

                int i = 0;

                // Addning rows of concerts based on which day is chosen in the buttons above.
                foreach (Concert concert in Model.ConcertDayChooser(Model.Day ?? default(DateTime)))
                {
                    { i++; ; }
                    <tr onclick="location.href = '@(Url.Page("ParticipantArtist", new { id = 1 }))'">
                        <th scope="row">@i</th>
                        <td><a class="btn-link text-dark">@concert.Artist</a></td>
                        <td>@concert.Start.Hour - @concert.End.Hour</td>
                        <td>@concert.Venue.Name</td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
