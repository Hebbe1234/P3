@page
@model NorthernWinterBeat.Pages.Admin.ConcertTabelModel
@{
    ViewData["Title"] = "Home page";
}

<table class="table table-hover" table-bordered>
    <thead>
        <tr>
            <th>
                <form asp-page-handler="SortByArtist" method="post">
                    <button class="btn btn-default">Kunstner</button>
                </form>

            </th>
            <th>
                <form asp-page-handler="SortByVenue" method="post">
                    <button class="btn btn-default">Venue</button>
                </form>
            </th>
            <th>
                <form asp-page-handler="SortByTime" method="post">
                    <button class="btn btn-default">Spilletid</button>
                </form>

            </th>
            <th>
                <form asp-page-handler="SortByCapacity" method="post">
                    <button class="btn btn-default">Kapacitet</button>
                </form>
            </th>
        </tr>
    </thead>
    <tbody>

        @{
            List<Concert> SortConcert = new List<Concert>(Model.Concerts);

            SortConcert = Model.SortConcertBy(SortConcert);

            string zero = "00";

            int i = 0;
            foreach (var item in SortConcert)
            {
                <tr>
                    <td>

                        <form asp-page-handler="ConcertClicked" method="post" asp-route-ConcertID="@i">
                            <button class="btn btn-default"> @item.Artist</button>
                        </form>
                    </td>


                    <td>
                        <form asp-page-handler="ConcertClicked" method="post" asp-route-ConcertID="@i">
                            <button class="btn btn-default">@item.Venue.Name</button>
                        </form>
                    </td>

                    <td>
                        <form asp-page-handler="ConcertClicked" method="post" asp-route-ConcertID="@i">
                            <button class="btn btn-default">
                                @item.Start.Hour:@if (item.Start.Minute == 0)
                                {@zero;} else{@item.Start.Minute}
                                @item.Venue.Name
                            </button>
                        </form>
                    </td>
                    <td>
                        <form asp-page-handler="ConcertClicked" method="post" asp-route-ConcertID="@i">
                            <button class="btn btn-default">
                                @item.Venue.Name
                            @*@item.Bookings.Length*@/@item.Venue.Capacity
                        </button>
                    </form>
                    </td>       @*MANGLER: Mulighed for at se current capacity. Det kræver ændring i Concert klassen, som jeg ikke vil lave her*@
                </tr>
                i++;
            }
        }


    </tbody>
</table>


